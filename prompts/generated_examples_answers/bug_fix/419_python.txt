python
```python
def factorial(n: int) -> int:
    if n < 0:
        raise ValueError("n must be non-negative")
    if n == 0 or n == 1:
        return 1
    result = 1
    for i in range(2, n + 1):
        result *= i
    return result
```
**Explanation:** Adds base cases for 0/1 and input validation, preventing recursive overflow or undefined behavior. Iterative multiplication is stack-safe.
**Complexity:** Time: O(n); Space: O(1).
**Example:**
Input: 5
Output: 120
**Notes:**
- Python ints are unbounded, but results grow quickly.
- Raise on negatives instead of recursing infinitely.
- Use math.prod(range(1, n+1)) for brevity if desired.
