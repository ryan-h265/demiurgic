javascript
```javascript
// Corrected linear search with proper loop and default return
function indexOf(nums, target) {
  if (!Array.isArray(nums)) return -1;
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] === target) return i;
  }
  return -1;
}
```
**Explanation:** The original code returned -1 inside the loop, exiting after the first element. This version loops through all elements with `i < nums.length` and only returns -1 after exhausting the array, safely handling empty arrays (n=0).
**Complexity:** Time: O(n); Space: O(1).
**Example:**
Input: nums = [4, 2, 7], target = 7
Output: 2
**Notes:**
- Works for empty arrays, immediately returning -1.
- Strict equality avoids type coercion surprises; adjust if loose matching is desired.
- For large datasets with repeated lookups, consider building a map for O(1) average access.
