javascript
```javascript
// Fixed factorial with proper base case and validation
function factorial(n) {
  if (!Number.isInteger(n) || n < 0) throw new Error('n must be a non-negative integer');
  if (n === 0 || n === 1) return 1;
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
}
```
**Explanation:** Rewrites the pseudo-Python snippet as valid JavaScript, adds input validation, and handles `n = 0` by returning 1. Uses an iterative loop to avoid recursion depth issues.
**Complexity:** Time: O(n); Space: O(1).
**Example:**
Input: `factorial(5)`
Output: `120`
**Notes:**
- Returns 1 for `n = 0` and `n = 1` per factorial definition.
- Throws on negative or non-integer input to prevent undefined results.
- Iterative form is stack-safe compared to deep recursion.
