javascript
```javascript
function lengthOfLIS(nums) {
  const tails = [];
  for (const x of nums) {
    let lo = 0, hi = tails.length;
    while (lo < hi) {
      const mid = (lo + hi) >> 1;
      if (tails[mid] < x) lo = mid + 1; else hi = mid;
    }
    tails[lo] = x;
  }
  return tails.length;
}
```
**Explanation:** Patience sorting approach: `tails[i]` holds the smallest possible tail of an increasing subsequence of length `i+1`. Binary search finds the position to place each number, extending the list when it exceeds current tails.
**Complexity:** Time: O(n log n); Space: O(n).
**Example:**
Input: [10,9,2,5,3,7,101,18]
Output: 4
**Notes:**
- Change comparison to `<=` for non-decreasing subsequences.
- To reconstruct the actual sequence, track predecessors and indices of tails.
- Handles empty input (returns 0).
